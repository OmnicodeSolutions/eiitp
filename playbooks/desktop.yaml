---
- name: Install desktop environment
  hosts: all
  gather_facts: no

  vars:
    packages:
      - macvim

    cask_packages:
      - adobe-acrobat-reader
      - docker
      - electrum
      - firefox
      - google-chrome
      - iterm2
      - shiftit
      - skitch
      - skype
      - telegram
      - visual-studio-code

    unwanted_packages:
      - evernote
      - screenhero

  tasks:
    - name: Install Homebrew packages
      homebrew: name={{ item }} state=latest
      with_items: "{{ packages }}"

    - name: Uninstall Homebrew Cask packages
      homebrew: name={{ item }} state=absent
      with_items: "{{ unwanted_packages }}"

    - name: Install Homebrew Cask packages
      homebrew_cask: name={{ item }} state=latest
      with_items: "{{ cask_packages }}"

